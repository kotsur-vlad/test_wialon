(this.webpackJsonptest_wialon=this.webpackJsonptest_wialon||[]).push([[0],{13:function(e,t,n){e.exports=n(22)},18:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(2),c=n.n(r),o=(n(18),n(12)),s=n(11),i=n(7),u=n.n(i),d=n(9),m=n(6),p=n(3),b=n(10),g=(n(21),l.a.memo((function(e){return l.a.createElement("div",{className:"History_row"},l.a.createElement("div",null,e.lat),l.a.createElement("div",null,e.lng),l.a.createElement("div",null,e.address),l.a.createElement("div",null,e.distance))}))),v=["places"],f={lat:53.709808,lng:27.953388},h={height:"100vh",width:"100%"},E={disableDefaultUI:!0,disableDoubleClickZoom:!0,zoomControl:!0};var O=function(){var e=Object(p.e)({googleMapsApiKey:"AIzaSyDj_pqFvkaYRmW_nj_yCJh8vRPbm4A5btY",libraries:v}),t=e.isLoaded,n=e.loadError,r=l.a.useRef(),c=l.a.useCallback((function(e){r.current=e}),[]),i=Object(a.useState)({lat:"",lng:""}),O=Object(m.a)(i,2),j=O[0],k=O[1],w=Object(a.useState)({}),y=Object(m.a)(w,2),C=y[0],_=y[1],I=Object(a.useState)([]),N=Object(m.a)(I,2),x=N[0],S=N[1],A=Object(a.useCallback)((function(e){k({lat:parseInt(1e6*e.latLng.lat())/1e6,lng:parseInt(1e6*e.latLng.lng())/1e6}),_(null)}),[]),D=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.a)(t);case 3:return n=e.sent,e.abrupt("return",n[0].formatted_address);case 7:e.prev=7,e.t0=e.catch(0),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0433\u0435\u043e\u043a\u043e\u0434\u0438\u043d\u0433\u0430",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),L=Object(a.useCallback)((function(){_(null),D({location:j}).then((function(e){var t={lat:j.lat,lng:j.lng,address:e,distance:0};S((function(e){return[].concat(Object(s.a)(e),[t])})),_(t)}))}),[j]),R=Object(a.useCallback)((function(e,t){S((function(n){return n.map((function(n){return n.address===e?Object(o.a)({},n,{distance:t}):n}))}))}),[]),z=Object(a.useCallback)((function(){return x.length>1?{origins:[{lat:x[x.length-2].lat,lng:x[x.length-2].lng}],destinations:[{lat:x[x.length-1].lat,lng:x[x.length-1].lng}],travelMode:"DRIVING"}:null}),[x]);return n?l.a.createElement("div",null,"\u041a\u0430\u0440\u0442\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430."):t?l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"History"},l.a.createElement(g,{lat:"\u0428\u0438\u0440\u043e\u0442\u0430",lng:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430",address:"\u0410\u0434\u0440\u0435\u0441",distance:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043e\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0442\u043e\u0447\u043a\u0438"}),x.map((function(e){return l.a.createElement(g,{lat:e.lat,lng:e.lng,address:e.address,distance:e.distance})})),l.a.createElement("div",{className:"History_row"},"\u041e\u0431\u0449\u0435\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435: ",x.map((function(e){return parseInt(e.distance)})).reduce((function(e,t){return e+t}),0)," \u043a\u043c")),l.a.createElement("div",{className:"Geocode"},l.a.createElement("input",{type:"text",placeholder:"\u0448\u0438\u0440\u043e\u0442\u0430",readOnly:!0,value:j.lat}),l.a.createElement("input",{type:"text",placeholder:"\u0434\u043e\u043b\u0433\u043e\u0442\u0430",readOnly:!0,value:j.lng}),l.a.createElement("button",{className:"Geocode_button",onClick:L},"\u0413\u0435\u043e\u043a\u043e\u0434\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),l.a.createElement(p.b,{center:f,mapContainerStyle:h,options:E,zoom:7,onDblClick:A,onLoad:c},l.a.createElement(p.d,{position:j},C?l.a.createElement(p.c,{onCloseClick:function(){return _(null)}},l.a.createElement("div",null,C.address)):null),x.length>1?l.a.createElement(p.a,{options:z(),callback:function(e,t){"OK"===t?R(e.destinationAddresses[0],e.rows[0].elements[0].distance.text):console.log(t)}}):null)):l.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0440\u0442\u044b.")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.d778ebd2.chunk.js.map